# FPGA算法设计考核报告
本设计旨在设计、仿真硬件计算复数模值及幅角。
## 1 算法原理
计算复数模值及幅角会涉及到复杂函数计算，在模值计算中对应平方根函数，在幅角计算中对应反正切函数:

$$abs(a+bi) = \sqrt{a^2 +b^2} $$

$$ angle(a+bi) = atan(b / a) $$

在FPGA中实现此类复杂函数计算，有几种不同方法，一是近似计算，二是拟合法，三是线性插值法，四是迭代法。本设计中，线性插值法和拟合法分别实现平方根函数及反正切函数。
### 1.1 反正切函数之拟合实现原理
拟合法基于泰勒展开原理:

$$ f(x) = \sum_{n=0}^{\infty} \frac{f^{(n)}(a)}{n!} (x-a)^n $$
即用多项式函数叠加接近复杂函数，将复杂函数计算转化为乘法、加法运算。多项式次数越高，误差越小，但乘法次数也会增加，带来资源上的压力。

### 1.2 平方根函数之线性插值实现原理
线性插值法即用若干段直线接近复杂曲线，如此可用乘法、加法运算计算复杂函数值。一般而言，直线段越多误差越小，但段数太多会给计算资源带来压力。故在设计硬件前需仿真确定段数，平衡性能与资源。


## 2 模块说明
整个系统由两大模块组成，一是计算幅角的cal_angle模块，二是计算模值的cal_abs模块。cal_angle下又有若干子模块
### 2.1 系统整体结构
### 2.2 模值计算模块
#### 2.2.1 功能说明
#### 2.2.2 时序说明
### 2.3 幅角计算模块
## 3 性能指标
### 3.1 精度及资源指标 
#### 3.1.1计算误差
#### 3.1.2 资源占用
### 3.2 速度指标
#### 3.2.1 最高工作频率
#### 3.2.2 吞吐量
#### 3.2.3 延迟周期数
## 4 验证
### 4.1 验证方法
### 4.2 验证结果
## 5 附件
### 5.1 模块代码
### 5.2 验证代码

                 
                 